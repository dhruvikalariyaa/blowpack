{"ast":null,"code":"\"use strict\";\n\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AwsRequestSigner = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst crypto_1 = require(\"../crypto/crypto\");\n/** AWS Signature Version 4 signing algorithm identifier.  */\nconst AWS_ALGORITHM = 'AWS4-HMAC-SHA256';\n/**\n * The termination string for the AWS credential scope value as defined in\n * https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n */\nconst AWS_REQUEST_TYPE = 'aws4_request';\n/**\n * Implements an AWS API request signer based on the AWS Signature Version 4\n * signing process.\n * https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html\n */\nclass AwsRequestSigner {\n  getCredentials;\n  region;\n  crypto;\n  /**\n   * Instantiates an AWS API request signer used to send authenticated signed\n   * requests to AWS APIs based on the AWS Signature Version 4 signing process.\n   * This also provides a mechanism to generate the signed request without\n   * sending it.\n   * @param getCredentials A mechanism to retrieve AWS security credentials\n   *   when needed.\n   * @param region The AWS region to use.\n   */\n  constructor(getCredentials, region) {\n    this.getCredentials = getCredentials;\n    this.region = region;\n    this.crypto = (0, crypto_1.createCrypto)();\n  }\n  /**\n   * Generates the signed request for the provided HTTP request for calling\n   * an AWS API. This follows the steps described at:\n   * https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\n   * @param amzOptions The AWS request options that need to be signed.\n   * @return A promise that resolves with the GaxiosOptions containing the\n   *   signed HTTP request parameters.\n   */\n  async getRequestOptions(amzOptions) {\n    if (!amzOptions.url) {\n      throw new RangeError('\"url\" is required in \"amzOptions\"');\n    }\n    // Stringify JSON requests. This will be set in the request body of the\n    // generated signed request.\n    const requestPayloadData = typeof amzOptions.data === 'object' ? JSON.stringify(amzOptions.data) : amzOptions.data;\n    const url = amzOptions.url;\n    const method = amzOptions.method || 'GET';\n    const requestPayload = amzOptions.body || requestPayloadData;\n    const additionalAmzHeaders = amzOptions.headers;\n    const awsSecurityCredentials = await this.getCredentials();\n    const uri = new URL(url);\n    if (typeof requestPayload !== 'string' && requestPayload !== undefined) {\n      throw new TypeError(`'requestPayload' is expected to be a string if provided. Got: ${requestPayload}`);\n    }\n    const headerMap = await generateAuthenticationHeaderMap({\n      crypto: this.crypto,\n      host: uri.host,\n      canonicalUri: uri.pathname,\n      canonicalQuerystring: uri.search.slice(1),\n      method,\n      region: this.region,\n      securityCredentials: awsSecurityCredentials,\n      requestPayload,\n      additionalAmzHeaders\n    });\n    // Append additional optional headers, eg. X-Amz-Target, Content-Type, etc.\n    const headers = gaxios_1.Gaxios.mergeHeaders(\n    // Add x-amz-date if available.\n    headerMap.amzDate ? {\n      'x-amz-date': headerMap.amzDate\n    } : {}, {\n      authorization: headerMap.authorizationHeader,\n      host: uri.host\n    }, additionalAmzHeaders || {});\n    if (awsSecurityCredentials.token) {\n      gaxios_1.Gaxios.mergeHeaders(headers, {\n        'x-amz-security-token': awsSecurityCredentials.token\n      });\n    }\n    const awsSignedReq = {\n      url,\n      method: method,\n      headers\n    };\n    if (requestPayload !== undefined) {\n      awsSignedReq.body = requestPayload;\n    }\n    return awsSignedReq;\n  }\n}\nexports.AwsRequestSigner = AwsRequestSigner;\n/**\n * Creates the HMAC-SHA256 hash of the provided message using the\n * provided key.\n *\n * @param crypto The crypto instance used to facilitate cryptographic\n *   operations.\n * @param key The HMAC-SHA256 key to use.\n * @param msg The message to hash.\n * @return The computed hash bytes.\n */\nasync function sign(crypto, key, msg) {\n  return await crypto.signWithHmacSha256(key, msg);\n}\n/**\n * Calculates the signing key used to calculate the signature for\n * AWS Signature Version 4 based on:\n * https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n *\n * @param crypto The crypto instance used to facilitate cryptographic\n *   operations.\n * @param key The AWS secret access key.\n * @param dateStamp The '%Y%m%d' date format.\n * @param region The AWS region.\n * @param serviceName The AWS service name, eg. sts.\n * @return The signing key bytes.\n */\nasync function getSigningKey(crypto, key, dateStamp, region, serviceName) {\n  const kDate = await sign(crypto, `AWS4${key}`, dateStamp);\n  const kRegion = await sign(crypto, kDate, region);\n  const kService = await sign(crypto, kRegion, serviceName);\n  const kSigning = await sign(crypto, kService, 'aws4_request');\n  return kSigning;\n}\n/**\n * Generates the authentication header map needed for generating the AWS\n * Signature Version 4 signed request.\n *\n * @param option The options needed to compute the authentication header map.\n * @return The AWS authentication header map which constitutes of the following\n *   components: amz-date, authorization header and canonical query string.\n */\nasync function generateAuthenticationHeaderMap(options) {\n  const additionalAmzHeaders = gaxios_1.Gaxios.mergeHeaders(options.additionalAmzHeaders);\n  const requestPayload = options.requestPayload || '';\n  // iam.amazonaws.com host => iam service.\n  // sts.us-east-2.amazonaws.com => sts service.\n  const serviceName = options.host.split('.')[0];\n  const now = new Date();\n  // Format: '%Y%m%dT%H%M%SZ'.\n  const amzDate = now.toISOString().replace(/[-:]/g, '').replace(/\\.[0-9]+/, '');\n  // Format: '%Y%m%d'.\n  const dateStamp = now.toISOString().replace(/[-]/g, '').replace(/T.*/, '');\n  // Add AWS token if available.\n  if (options.securityCredentials.token) {\n    additionalAmzHeaders.set('x-amz-security-token', options.securityCredentials.token);\n  }\n  // Header keys need to be sorted alphabetically.\n  const amzHeaders = gaxios_1.Gaxios.mergeHeaders({\n    host: options.host\n  },\n  // Previously the date was not fixed with x-amz- and could be provided manually.\n  // https://github.com/boto/botocore/blob/879f8440a4e9ace5d3cf145ce8b3d5e5ffb892ef/tests/unit/auth/aws4_testsuite/get-header-value-trim.req\n  additionalAmzHeaders.has('date') ? {} : {\n    'x-amz-date': amzDate\n  }, additionalAmzHeaders);\n  let canonicalHeaders = '';\n  // TypeScript is missing `Headers#keys` at the time of writing\n  const signedHeadersList = [...amzHeaders.keys()].sort();\n  signedHeadersList.forEach(key => {\n    canonicalHeaders += `${key}:${amzHeaders.get(key)}\\n`;\n  });\n  const signedHeaders = signedHeadersList.join(';');\n  const payloadHash = await options.crypto.sha256DigestHex(requestPayload);\n  // https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n  const canonicalRequest = `${options.method.toUpperCase()}\\n` + `${options.canonicalUri}\\n` + `${options.canonicalQuerystring}\\n` + `${canonicalHeaders}\\n` + `${signedHeaders}\\n` + `${payloadHash}`;\n  const credentialScope = `${dateStamp}/${options.region}/${serviceName}/${AWS_REQUEST_TYPE}`;\n  // https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n  const stringToSign = `${AWS_ALGORITHM}\\n` + `${amzDate}\\n` + `${credentialScope}\\n` + (await options.crypto.sha256DigestHex(canonicalRequest));\n  // https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n  const signingKey = await getSigningKey(options.crypto, options.securityCredentials.secretAccessKey, dateStamp, options.region, serviceName);\n  const signature = await sign(options.crypto, signingKey, stringToSign);\n  // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n  const authorizationHeader = `${AWS_ALGORITHM} Credential=${options.securityCredentials.accessKeyId}/` + `${credentialScope}, SignedHeaders=${signedHeaders}, ` + `Signature=${(0, crypto_1.fromArrayBufferToHex)(signature)}`;\n  return {\n    // Do not return x-amz-date if date is available.\n    amzDate: additionalAmzHeaders.has('date') ? undefined : amzDate,\n    authorizationHeader,\n    canonicalQuerystring: options.canonicalQuerystring\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","AwsRequestSigner","gaxios_1","require","crypto_1","AWS_ALGORITHM","AWS_REQUEST_TYPE","getCredentials","region","crypto","constructor","createCrypto","getRequestOptions","amzOptions","url","RangeError","requestPayloadData","data","JSON","stringify","method","requestPayload","body","additionalAmzHeaders","headers","awsSecurityCredentials","uri","URL","undefined","TypeError","headerMap","generateAuthenticationHeaderMap","host","canonicalUri","pathname","canonicalQuerystring","search","slice","securityCredentials","Gaxios","mergeHeaders","amzDate","authorization","authorizationHeader","token","awsSignedReq","sign","key","msg","signWithHmacSha256","getSigningKey","dateStamp","serviceName","kDate","kRegion","kService","kSigning","options","split","now","Date","toISOString","replace","set","amzHeaders","has","canonicalHeaders","signedHeadersList","keys","sort","forEach","get","signedHeaders","join","payloadHash","sha256DigestHex","canonicalRequest","toUpperCase","credentialScope","stringToSign","signingKey","secretAccessKey","signature","accessKeyId","fromArrayBufferToHex"],"sources":["E:/blowpack/frountend/node_modules/google-auth-library/build/src/auth/awsrequestsigner.js"],"sourcesContent":["\"use strict\";\n// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AwsRequestSigner = void 0;\nconst gaxios_1 = require(\"gaxios\");\nconst crypto_1 = require(\"../crypto/crypto\");\n/** AWS Signature Version 4 signing algorithm identifier.  */\nconst AWS_ALGORITHM = 'AWS4-HMAC-SHA256';\n/**\n * The termination string for the AWS credential scope value as defined in\n * https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n */\nconst AWS_REQUEST_TYPE = 'aws4_request';\n/**\n * Implements an AWS API request signer based on the AWS Signature Version 4\n * signing process.\n * https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html\n */\nclass AwsRequestSigner {\n    getCredentials;\n    region;\n    crypto;\n    /**\n     * Instantiates an AWS API request signer used to send authenticated signed\n     * requests to AWS APIs based on the AWS Signature Version 4 signing process.\n     * This also provides a mechanism to generate the signed request without\n     * sending it.\n     * @param getCredentials A mechanism to retrieve AWS security credentials\n     *   when needed.\n     * @param region The AWS region to use.\n     */\n    constructor(getCredentials, region) {\n        this.getCredentials = getCredentials;\n        this.region = region;\n        this.crypto = (0, crypto_1.createCrypto)();\n    }\n    /**\n     * Generates the signed request for the provided HTTP request for calling\n     * an AWS API. This follows the steps described at:\n     * https://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\n     * @param amzOptions The AWS request options that need to be signed.\n     * @return A promise that resolves with the GaxiosOptions containing the\n     *   signed HTTP request parameters.\n     */\n    async getRequestOptions(amzOptions) {\n        if (!amzOptions.url) {\n            throw new RangeError('\"url\" is required in \"amzOptions\"');\n        }\n        // Stringify JSON requests. This will be set in the request body of the\n        // generated signed request.\n        const requestPayloadData = typeof amzOptions.data === 'object'\n            ? JSON.stringify(amzOptions.data)\n            : amzOptions.data;\n        const url = amzOptions.url;\n        const method = amzOptions.method || 'GET';\n        const requestPayload = amzOptions.body || requestPayloadData;\n        const additionalAmzHeaders = amzOptions.headers;\n        const awsSecurityCredentials = await this.getCredentials();\n        const uri = new URL(url);\n        if (typeof requestPayload !== 'string' && requestPayload !== undefined) {\n            throw new TypeError(`'requestPayload' is expected to be a string if provided. Got: ${requestPayload}`);\n        }\n        const headerMap = await generateAuthenticationHeaderMap({\n            crypto: this.crypto,\n            host: uri.host,\n            canonicalUri: uri.pathname,\n            canonicalQuerystring: uri.search.slice(1),\n            method,\n            region: this.region,\n            securityCredentials: awsSecurityCredentials,\n            requestPayload,\n            additionalAmzHeaders,\n        });\n        // Append additional optional headers, eg. X-Amz-Target, Content-Type, etc.\n        const headers = gaxios_1.Gaxios.mergeHeaders(\n        // Add x-amz-date if available.\n        headerMap.amzDate ? { 'x-amz-date': headerMap.amzDate } : {}, {\n            authorization: headerMap.authorizationHeader,\n            host: uri.host,\n        }, additionalAmzHeaders || {});\n        if (awsSecurityCredentials.token) {\n            gaxios_1.Gaxios.mergeHeaders(headers, {\n                'x-amz-security-token': awsSecurityCredentials.token,\n            });\n        }\n        const awsSignedReq = {\n            url,\n            method: method,\n            headers,\n        };\n        if (requestPayload !== undefined) {\n            awsSignedReq.body = requestPayload;\n        }\n        return awsSignedReq;\n    }\n}\nexports.AwsRequestSigner = AwsRequestSigner;\n/**\n * Creates the HMAC-SHA256 hash of the provided message using the\n * provided key.\n *\n * @param crypto The crypto instance used to facilitate cryptographic\n *   operations.\n * @param key The HMAC-SHA256 key to use.\n * @param msg The message to hash.\n * @return The computed hash bytes.\n */\nasync function sign(crypto, key, msg) {\n    return await crypto.signWithHmacSha256(key, msg);\n}\n/**\n * Calculates the signing key used to calculate the signature for\n * AWS Signature Version 4 based on:\n * https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n *\n * @param crypto The crypto instance used to facilitate cryptographic\n *   operations.\n * @param key The AWS secret access key.\n * @param dateStamp The '%Y%m%d' date format.\n * @param region The AWS region.\n * @param serviceName The AWS service name, eg. sts.\n * @return The signing key bytes.\n */\nasync function getSigningKey(crypto, key, dateStamp, region, serviceName) {\n    const kDate = await sign(crypto, `AWS4${key}`, dateStamp);\n    const kRegion = await sign(crypto, kDate, region);\n    const kService = await sign(crypto, kRegion, serviceName);\n    const kSigning = await sign(crypto, kService, 'aws4_request');\n    return kSigning;\n}\n/**\n * Generates the authentication header map needed for generating the AWS\n * Signature Version 4 signed request.\n *\n * @param option The options needed to compute the authentication header map.\n * @return The AWS authentication header map which constitutes of the following\n *   components: amz-date, authorization header and canonical query string.\n */\nasync function generateAuthenticationHeaderMap(options) {\n    const additionalAmzHeaders = gaxios_1.Gaxios.mergeHeaders(options.additionalAmzHeaders);\n    const requestPayload = options.requestPayload || '';\n    // iam.amazonaws.com host => iam service.\n    // sts.us-east-2.amazonaws.com => sts service.\n    const serviceName = options.host.split('.')[0];\n    const now = new Date();\n    // Format: '%Y%m%dT%H%M%SZ'.\n    const amzDate = now\n        .toISOString()\n        .replace(/[-:]/g, '')\n        .replace(/\\.[0-9]+/, '');\n    // Format: '%Y%m%d'.\n    const dateStamp = now.toISOString().replace(/[-]/g, '').replace(/T.*/, '');\n    // Add AWS token if available.\n    if (options.securityCredentials.token) {\n        additionalAmzHeaders.set('x-amz-security-token', options.securityCredentials.token);\n    }\n    // Header keys need to be sorted alphabetically.\n    const amzHeaders = gaxios_1.Gaxios.mergeHeaders({\n        host: options.host,\n    }, \n    // Previously the date was not fixed with x-amz- and could be provided manually.\n    // https://github.com/boto/botocore/blob/879f8440a4e9ace5d3cf145ce8b3d5e5ffb892ef/tests/unit/auth/aws4_testsuite/get-header-value-trim.req\n    additionalAmzHeaders.has('date') ? {} : { 'x-amz-date': amzDate }, additionalAmzHeaders);\n    let canonicalHeaders = '';\n    // TypeScript is missing `Headers#keys` at the time of writing\n    const signedHeadersList = [\n        ...amzHeaders.keys(),\n    ].sort();\n    signedHeadersList.forEach(key => {\n        canonicalHeaders += `${key}:${amzHeaders.get(key)}\\n`;\n    });\n    const signedHeaders = signedHeadersList.join(';');\n    const payloadHash = await options.crypto.sha256DigestHex(requestPayload);\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n    const canonicalRequest = `${options.method.toUpperCase()}\\n` +\n        `${options.canonicalUri}\\n` +\n        `${options.canonicalQuerystring}\\n` +\n        `${canonicalHeaders}\\n` +\n        `${signedHeaders}\\n` +\n        `${payloadHash}`;\n    const credentialScope = `${dateStamp}/${options.region}/${serviceName}/${AWS_REQUEST_TYPE}`;\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-create-string-to-sign.html\n    const stringToSign = `${AWS_ALGORITHM}\\n` +\n        `${amzDate}\\n` +\n        `${credentialScope}\\n` +\n        (await options.crypto.sha256DigestHex(canonicalRequest));\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-calculate-signature.html\n    const signingKey = await getSigningKey(options.crypto, options.securityCredentials.secretAccessKey, dateStamp, options.region, serviceName);\n    const signature = await sign(options.crypto, signingKey, stringToSign);\n    // https://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\n    const authorizationHeader = `${AWS_ALGORITHM} Credential=${options.securityCredentials.accessKeyId}/` +\n        `${credentialScope}, SignedHeaders=${signedHeaders}, ` +\n        `Signature=${(0, crypto_1.fromArrayBufferToHex)(signature)}`;\n    return {\n        // Do not return x-amz-date if date is available.\n        amzDate: additionalAmzHeaders.has('date') ? undefined : amzDate,\n        authorizationHeader,\n        canonicalQuerystring: options.canonicalQuerystring,\n    };\n}\n//# sourceMappingURL=awsrequestsigner.js.map"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,MAAMC,QAAQ,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMC,QAAQ,GAAGD,OAAO,CAAC,kBAAkB,CAAC;AAC5C;AACA,MAAME,aAAa,GAAG,kBAAkB;AACxC;AACA;AACA;AACA;AACA,MAAMC,gBAAgB,GAAG,cAAc;AACvC;AACA;AACA;AACA;AACA;AACA,MAAML,gBAAgB,CAAC;EACnBM,cAAc;EACdC,MAAM;EACNC,MAAM;EACN;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,WAAWA,CAACH,cAAc,EAAEC,MAAM,EAAE;IAChC,IAAI,CAACD,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC,EAAEL,QAAQ,CAACO,YAAY,EAAE,CAAC;EAC9C;EACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI,MAAMC,iBAAiBA,CAACC,UAAU,EAAE;IAChC,IAAI,CAACA,UAAU,CAACC,GAAG,EAAE;MACjB,MAAM,IAAIC,UAAU,CAAC,mCAAmC,CAAC;IAC7D;IACA;IACA;IACA,MAAMC,kBAAkB,GAAG,OAAOH,UAAU,CAACI,IAAI,KAAK,QAAQ,GACxDC,IAAI,CAACC,SAAS,CAACN,UAAU,CAACI,IAAI,CAAC,GAC/BJ,UAAU,CAACI,IAAI;IACrB,MAAMH,GAAG,GAAGD,UAAU,CAACC,GAAG;IAC1B,MAAMM,MAAM,GAAGP,UAAU,CAACO,MAAM,IAAI,KAAK;IACzC,MAAMC,cAAc,GAAGR,UAAU,CAACS,IAAI,IAAIN,kBAAkB;IAC5D,MAAMO,oBAAoB,GAAGV,UAAU,CAACW,OAAO;IAC/C,MAAMC,sBAAsB,GAAG,MAAM,IAAI,CAAClB,cAAc,CAAC,CAAC;IAC1D,MAAMmB,GAAG,GAAG,IAAIC,GAAG,CAACb,GAAG,CAAC;IACxB,IAAI,OAAOO,cAAc,KAAK,QAAQ,IAAIA,cAAc,KAAKO,SAAS,EAAE;MACpE,MAAM,IAAIC,SAAS,CAAC,iEAAiER,cAAc,EAAE,CAAC;IAC1G;IACA,MAAMS,SAAS,GAAG,MAAMC,+BAA+B,CAAC;MACpDtB,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBuB,IAAI,EAAEN,GAAG,CAACM,IAAI;MACdC,YAAY,EAAEP,GAAG,CAACQ,QAAQ;MAC1BC,oBAAoB,EAAET,GAAG,CAACU,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MACzCjB,MAAM;MACNZ,MAAM,EAAE,IAAI,CAACA,MAAM;MACnB8B,mBAAmB,EAAEb,sBAAsB;MAC3CJ,cAAc;MACdE;IACJ,CAAC,CAAC;IACF;IACA,MAAMC,OAAO,GAAGtB,QAAQ,CAACqC,MAAM,CAACC,YAAY;IAC5C;IACAV,SAAS,CAACW,OAAO,GAAG;MAAE,YAAY,EAAEX,SAAS,CAACW;IAAQ,CAAC,GAAG,CAAC,CAAC,EAAE;MAC1DC,aAAa,EAAEZ,SAAS,CAACa,mBAAmB;MAC5CX,IAAI,EAAEN,GAAG,CAACM;IACd,CAAC,EAAET,oBAAoB,IAAI,CAAC,CAAC,CAAC;IAC9B,IAAIE,sBAAsB,CAACmB,KAAK,EAAE;MAC9B1C,QAAQ,CAACqC,MAAM,CAACC,YAAY,CAAChB,OAAO,EAAE;QAClC,sBAAsB,EAAEC,sBAAsB,CAACmB;MACnD,CAAC,CAAC;IACN;IACA,MAAMC,YAAY,GAAG;MACjB/B,GAAG;MACHM,MAAM,EAAEA,MAAM;MACdI;IACJ,CAAC;IACD,IAAIH,cAAc,KAAKO,SAAS,EAAE;MAC9BiB,YAAY,CAACvB,IAAI,GAAGD,cAAc;IACtC;IACA,OAAOwB,YAAY;EACvB;AACJ;AACA9C,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe6C,IAAIA,CAACrC,MAAM,EAAEsC,GAAG,EAAEC,GAAG,EAAE;EAClC,OAAO,MAAMvC,MAAM,CAACwC,kBAAkB,CAACF,GAAG,EAAEC,GAAG,CAAC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeE,aAAaA,CAACzC,MAAM,EAAEsC,GAAG,EAAEI,SAAS,EAAE3C,MAAM,EAAE4C,WAAW,EAAE;EACtE,MAAMC,KAAK,GAAG,MAAMP,IAAI,CAACrC,MAAM,EAAE,OAAOsC,GAAG,EAAE,EAAEI,SAAS,CAAC;EACzD,MAAMG,OAAO,GAAG,MAAMR,IAAI,CAACrC,MAAM,EAAE4C,KAAK,EAAE7C,MAAM,CAAC;EACjD,MAAM+C,QAAQ,GAAG,MAAMT,IAAI,CAACrC,MAAM,EAAE6C,OAAO,EAAEF,WAAW,CAAC;EACzD,MAAMI,QAAQ,GAAG,MAAMV,IAAI,CAACrC,MAAM,EAAE8C,QAAQ,EAAE,cAAc,CAAC;EAC7D,OAAOC,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAezB,+BAA+BA,CAAC0B,OAAO,EAAE;EACpD,MAAMlC,oBAAoB,GAAGrB,QAAQ,CAACqC,MAAM,CAACC,YAAY,CAACiB,OAAO,CAAClC,oBAAoB,CAAC;EACvF,MAAMF,cAAc,GAAGoC,OAAO,CAACpC,cAAc,IAAI,EAAE;EACnD;EACA;EACA,MAAM+B,WAAW,GAAGK,OAAO,CAACzB,IAAI,CAAC0B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;EACtB;EACA,MAAMnB,OAAO,GAAGkB,GAAG,CACdE,WAAW,CAAC,CAAC,CACbC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CACpBA,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;EAC5B;EACA,MAAMX,SAAS,GAAGQ,GAAG,CAACE,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAC1E;EACA,IAAIL,OAAO,CAACnB,mBAAmB,CAACM,KAAK,EAAE;IACnCrB,oBAAoB,CAACwC,GAAG,CAAC,sBAAsB,EAAEN,OAAO,CAACnB,mBAAmB,CAACM,KAAK,CAAC;EACvF;EACA;EACA,MAAMoB,UAAU,GAAG9D,QAAQ,CAACqC,MAAM,CAACC,YAAY,CAAC;IAC5CR,IAAI,EAAEyB,OAAO,CAACzB;EAClB,CAAC;EACD;EACA;EACAT,oBAAoB,CAAC0C,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG;IAAE,YAAY,EAAExB;EAAQ,CAAC,EAAElB,oBAAoB,CAAC;EACxF,IAAI2C,gBAAgB,GAAG,EAAE;EACzB;EACA,MAAMC,iBAAiB,GAAG,CACtB,GAAGH,UAAU,CAACI,IAAI,CAAC,CAAC,CACvB,CAACC,IAAI,CAAC,CAAC;EACRF,iBAAiB,CAACG,OAAO,CAACvB,GAAG,IAAI;IAC7BmB,gBAAgB,IAAI,GAAGnB,GAAG,IAAIiB,UAAU,CAACO,GAAG,CAACxB,GAAG,CAAC,IAAI;EACzD,CAAC,CAAC;EACF,MAAMyB,aAAa,GAAGL,iBAAiB,CAACM,IAAI,CAAC,GAAG,CAAC;EACjD,MAAMC,WAAW,GAAG,MAAMjB,OAAO,CAAChD,MAAM,CAACkE,eAAe,CAACtD,cAAc,CAAC;EACxE;EACA,MAAMuD,gBAAgB,GAAG,GAAGnB,OAAO,CAACrC,MAAM,CAACyD,WAAW,CAAC,CAAC,IAAI,GACxD,GAAGpB,OAAO,CAACxB,YAAY,IAAI,GAC3B,GAAGwB,OAAO,CAACtB,oBAAoB,IAAI,GACnC,GAAG+B,gBAAgB,IAAI,GACvB,GAAGM,aAAa,IAAI,GACpB,GAAGE,WAAW,EAAE;EACpB,MAAMI,eAAe,GAAG,GAAG3B,SAAS,IAAIM,OAAO,CAACjD,MAAM,IAAI4C,WAAW,IAAI9C,gBAAgB,EAAE;EAC3F;EACA,MAAMyE,YAAY,GAAG,GAAG1E,aAAa,IAAI,GACrC,GAAGoC,OAAO,IAAI,GACd,GAAGqC,eAAe,IAAI,IACrB,MAAMrB,OAAO,CAAChD,MAAM,CAACkE,eAAe,CAACC,gBAAgB,CAAC,CAAC;EAC5D;EACA,MAAMI,UAAU,GAAG,MAAM9B,aAAa,CAACO,OAAO,CAAChD,MAAM,EAAEgD,OAAO,CAACnB,mBAAmB,CAAC2C,eAAe,EAAE9B,SAAS,EAAEM,OAAO,CAACjD,MAAM,EAAE4C,WAAW,CAAC;EAC3I,MAAM8B,SAAS,GAAG,MAAMpC,IAAI,CAACW,OAAO,CAAChD,MAAM,EAAEuE,UAAU,EAAED,YAAY,CAAC;EACtE;EACA,MAAMpC,mBAAmB,GAAG,GAAGtC,aAAa,eAAeoD,OAAO,CAACnB,mBAAmB,CAAC6C,WAAW,GAAG,GACjG,GAAGL,eAAe,mBAAmBN,aAAa,IAAI,GACtD,aAAa,CAAC,CAAC,EAAEpE,QAAQ,CAACgF,oBAAoB,EAAEF,SAAS,CAAC,EAAE;EAChE,OAAO;IACH;IACAzC,OAAO,EAAElB,oBAAoB,CAAC0C,GAAG,CAAC,MAAM,CAAC,GAAGrC,SAAS,GAAGa,OAAO;IAC/DE,mBAAmB;IACnBR,oBAAoB,EAAEsB,OAAO,CAACtB;EAClC,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}