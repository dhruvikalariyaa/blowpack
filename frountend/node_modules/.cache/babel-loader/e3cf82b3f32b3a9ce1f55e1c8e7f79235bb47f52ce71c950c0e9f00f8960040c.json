{"ast":null,"code":"import _objectSpread from\"E:/blowpack/frountend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{Helmet}from\"react-helmet-async\";import AdminNavbar from\"../../components/layout/AdminNavbar\";import ImageUpload from\"../../components/common/ImageUpload\";import{API_ENDPOINTS}from\"../../config/api\";import{PlusIcon,PencilIcon,TrashIcon,EyeIcon,MagnifyingGlassIcon,FunnelIcon,XMarkIcon,PhotoIcon}from\"@heroicons/react/24/outline\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminProducts=()=>{var _viewingProduct$categ;const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState(\"\");const[statusFilter,setStatusFilter]=useState(\"all\");const[categoryFilter,setCategoryFilter]=useState(\"all\");const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[showModal,setShowModal]=useState(false);const[showViewModal,setShowViewModal]=useState(false);const[viewingProduct,setViewingProduct]=useState(null);const[editingProduct,setEditingProduct]=useState(null);const[categories,setCategories]=useState([]);const[successMessage,setSuccessMessage]=useState(null);const[submitting,setSubmitting]=useState(false);// Form state\nconst[formData,setFormData]=useState({name:\"\",description:\"\",price:\"\",stock:\"\",category:\"\",sku:\"\",isActive:true,isFeatured:false,images:[]});useEffect(()=>{fetchProducts();fetchCategories();},[currentPage,searchTerm,statusFilter,categoryFilter]);const fetchProducts=async()=>{try{setLoading(true);const token=localStorage.getItem(\"token\");const params=new URLSearchParams(_objectSpread(_objectSpread(_objectSpread({page:currentPage,limit:10},searchTerm&&{search:searchTerm}),statusFilter!==\"all\"&&{status:statusFilter}),categoryFilter!==\"all\"&&{category:categoryFilter}));const response=await fetch(\"\".concat(API_ENDPOINTS.ADMIN_PRODUCTS,\"?\").concat(params),{headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"Failed to fetch products\");}const data=await response.json();setProducts(data.data.products);setTotalPages(data.data.pagination.totalPages);}catch(err){setError(err.message);}finally{setLoading(false);}};const fetchCategories=async()=>{try{const token=localStorage.getItem(\"token\");const response=await fetch(API_ENDPOINTS.CATEGORIES,{headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(response.ok){const data=await response.json();setCategories(data.data.categories||[]);}}catch(err){console.error(\"Failed to fetch categories:\",err);}};const handleSubmit=async e=>{e.preventDefault();try{setSubmitting(true);setError(null);const token=localStorage.getItem(\"token\");if(!token){setError(\"Please login first\");return;}const url=editingProduct?API_ENDPOINTS.PRODUCT_BY_ID(editingProduct._id):API_ENDPOINTS.PRODUCTS;const method=editingProduct?\"PUT\":\"POST\";// Create FormData\nconst formDataToSend=new FormData();formDataToSend.append(\"name\",formData.name||\"\");formDataToSend.append(\"description\",formData.description||\"\");formDataToSend.append(\"price\",formData.price||\"0\");formDataToSend.append(\"stock\",formData.stock||\"0\");formDataToSend.append(\"category\",formData.category||\"\");formDataToSend.append(\"sku\",formData.sku||\"\");formDataToSend.append(\"isActive\",formData.isActive.toString());formDataToSend.append(\"isFeatured\",formData.isFeatured.toString());// Add images if any\nconsole.log('ðŸ–¼ï¸ Form images:',formData.images);if(formData.images&&formData.images.length>0){const newImages=formData.images.filter(img=>img.isNew&&img.file);console.log('ðŸ“¤ New images to upload:',newImages.length);newImages.forEach(image=>{console.log('ðŸ“Ž Appending image:',image.file.name,image.file.size,image.file.type);formDataToSend.append(\"images\",image.file);});}else{console.log('âŒ No images to upload');}const response=await fetch(url,{method,headers:{Authorization:\"Bearer \".concat(token)},body:formDataToSend});if(!response.ok){const errorData=await response.json();setError(errorData.message||\"Failed to save product\");return;}// Success\nsetShowModal(false);setEditingProduct(null);setFormData({name:\"\",description:\"\",price:\"\",stock:\"\",category:\"\",sku:\"\",isActive:true,isFeatured:false,images:[]});setSuccessMessage(editingProduct?\"Product updated successfully!\":\"Product created successfully!\");setTimeout(()=>setSuccessMessage(null),3000);fetchProducts();}catch(err){setError(err.message);}finally{setSubmitting(false);}};const handleView=product=>{setViewingProduct(product);setShowViewModal(true);};const handleEdit=product=>{setEditingProduct(product);// Convert existing images to the new format\nconst existingImages=(product.images||[]).map(img=>_objectSpread(_objectSpread({},img),{},{isNew:false// Existing images are not new\n}));setFormData({name:product.name,description:product.description,price:product.price,stock:product.stock,category:product.category._id,sku:product.sku,isActive:product.isActive,isFeatured:product.isFeatured,images:existingImages});setShowModal(true);};const handleDelete=async productId=>{if(!window.confirm(\"Are you sure you want to delete this product?\")){return;}try{const token=localStorage.getItem(\"token\");const response=await fetch(API_ENDPOINTS.PRODUCT_BY_ID(productId),{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(token),\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"Failed to delete product\");}fetchProducts();}catch(err){setError(err.message);}};const handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type===\"checkbox\"?checked:value}));// Clear error when user starts typing\nif(error){setError(null);}};const resetForm=()=>{setFormData({name:\"\",description:\"\",price:\"\",stock:\"\",category:\"\",sku:\"\",isActive:true,isFeatured:false,images:[]});setEditingProduct(null);setShowModal(false);setError(null);// Clear any errors when resetting form\nsetSuccessMessage(null);// Clear any success messages when resetting form\n};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Admin Products - Packwell Plastic Industries\"})}),/*#__PURE__*/_jsx(AdminNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-green-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-green-800\",children:\"Success\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-green-700\",children:successMessage})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Products\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Manage your product catalog\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"Add Product\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 w-full\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:e=>setStatusFilter(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:categoryFilter,onChange:e=>setCategoryFilter(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Categories\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category._id,children:category.name},category._id))]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm(\"\");setStatusFilter(\"all\");setCategoryFilter(\"all\");},className:\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Clear Filters\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:products.map(product=>{var _product$category;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:product.images&&product.images.length>0?/*#__PURE__*/_jsx(\"img\",{className:\"h-10 w-10 rounded-lg object-cover\",src:product.images[0].url||product.images[0],alt:product.images[0].alt||product.name}):/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-xs\",children:\"No Image\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:product.sku})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:((_product$category=product.category)===null||_product$category===void 0?void 0:_product$category.name)||\"N/A\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:product.stock}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(product.isActive?\"bg-green-100 text-green-800\":\"bg-red-100 text-red-800\"),children:product.isActive?\"Active\":\"Inactive\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleView(product),className:\"text-green-600 hover:text-green-900\",title:\"View Product\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(product),className:\"text-blue-600 hover:text-blue-900\",title:\"Edit Product\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(product._id),className:\"text-red-600 hover:text-red-900\",title:\"Delete Product\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},product._id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex justify-between sm:hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage===1,className:\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(prev+1,totalPages)),disabled:currentPage===totalPages,className:\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\",children:\"Next\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[\"Page \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:currentPage}),\" of\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:totalPages})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(prev-1,1)),disabled:currentPage===1,className:\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(prev+1,totalPages)),disabled:currentPage===totalPages,className:\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\",children:\"Next\"})]})})]})]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingProduct?\"Edit Product\":\"Add New Product\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-red-400\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Error\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-red-700\",children:error})]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4 sm:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter product name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"SKU\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sku\",value:formData.sku,onChange:handleInputChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter product SKU\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Price (\\u20B9)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleInputChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter price (\\u20B9)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",value:formData.stock,onChange:handleInputChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter stock quantity\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:formData.category,onChange:handleInputChange,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category._id,children:category.name},category._id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,rows:3,className:\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter product description\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Product Images\"}),/*#__PURE__*/_jsx(ImageUpload,{images:formData.images,onImagesChange:images=>setFormData(_objectSpread(_objectSpread({},formData),{},{images})),maxImages:5,multiple:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isActive\",checked:formData.isActive,onChange:handleInputChange,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Active\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isFeatured\",checked:formData.isFeatured,onChange:handleInputChange,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Featured\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:submitting,className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:submitting?\"Saving...\":editingProduct?\"Update Product\":\"Add Product\"})]})]})]})}),showViewModal&&viewingProduct&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 overflow-y-auto h-full w-full z-50 animate-fadeIn\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative top-4 mx-auto p-4 w-11/12 max-w-6xl shadow-2xl rounded-2xl bg-white animate-slideIn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-t-2xl p-6 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold mb-2\",children:viewingProduct.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 text-lg\",children:((_viewingProduct$categ=viewingProduct.category)===null||_viewingProduct$categ===void 0?void 0:_viewingProduct$categ.name)||\"Uncategorized\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowViewModal(false),className:\"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-full\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-6 w-6\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-1 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-2xl font-bold text-gray-900\",children:\"Product Gallery\"})]}),viewingProduct.images&&viewingProduct.images.length>0?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"img\",{src:viewingProduct.images[0].url||viewingProduct.images[0],alt:viewingProduct.images[0].alt||viewingProduct.name,className:\"w-full h-80 object-cover rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300 rounded-xl\"})]}),viewingProduct.images.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-4 gap-3\",children:viewingProduct.images.slice(1).map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group cursor-pointer\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.url||image,alt:image.alt||viewingProduct.name,className:\"w-full h-20 object-cover rounded-lg shadow-md group-hover:shadow-lg transition-all duration-300\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 rounded-lg\"})]},index))})]}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-80 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(PhotoIcon,{className:\"h-8 w-8 text-gray-500\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-lg\",children:\"No images available\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"i\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-gray-900\",children:\"Basic Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-600 mb-1\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-900\",children:viewingProduct.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-600 mb-1\",children:\"SKU\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-mono text-gray-900\",children:viewingProduct.sku})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-600 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 leading-relaxed\",children:viewingProduct.description})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"\\u20B9\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-gray-900\",children:\"Pricing & Inventory\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 shadow-sm text-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-600 mb-2\",children:\"Price\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-green-600\",children:[\"\\u20B9\",viewingProduct.price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 shadow-sm text-center\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-semibold text-gray-600 mb-2\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-blue-600\",children:viewingProduct.stock}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"units\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"\\u2713\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-gray-900\",children:\"Status\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-white rounded-lg p-4 shadow-sm text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-4 py-2 rounded-full text-sm font-bold \".concat(viewingProduct.isActive?\"bg-green-100 text-green-800 border-2 border-green-200\":\"bg-red-100 text-red-800 border-2 border-red-200\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full mr-2 \".concat(viewingProduct.isActive?\"bg-green-500\":\"bg-red-500\")}),viewingProduct.isActive?\"Active\":\"Inactive\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-white rounded-lg p-4 shadow-sm text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-4 py-2 rounded-full text-sm font-bold \".concat(viewingProduct.isFeatured?\"bg-blue-100 text-blue-800 border-2 border-blue-200\":\"bg-gray-100 text-gray-800 border-2 border-gray-200\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full mr-2 \".concat(viewingProduct.isFeatured?\"bg-blue-500\":\"bg-gray-500\")}),viewingProduct.isFeatured?\"Featured\":\"Regular\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gray-500 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"\\u2139\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-gray-900\",children:\"Additional Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-2 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-600\",children:\"Created\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:new Date(viewingProduct.createdAt).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-2 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-600\",children:\"Last Updated\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900\",children:new Date(viewingProduct.updatedAt).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-600\",children:\"Product ID\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 font-mono text-sm\",children:viewingProduct._id})]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex justify-end space-x-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowViewModal(false),className:\"px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\",children:\"Close\"})})]})]})})]})]});};export default AdminProducts;","map":{"version":3,"names":["React","useState","useEffect","Helmet","AdminNavbar","ImageUpload","API_ENDPOINTS","PlusIcon","PencilIcon","TrashIcon","EyeIcon","MagnifyingGlassIcon","FunnelIcon","XMarkIcon","PhotoIcon","jsx","_jsx","jsxs","_jsxs","AdminProducts","_viewingProduct$categ","products","setProducts","loading","setLoading","error","setError","searchTerm","setSearchTerm","statusFilter","setStatusFilter","categoryFilter","setCategoryFilter","currentPage","setCurrentPage","totalPages","setTotalPages","showModal","setShowModal","showViewModal","setShowViewModal","viewingProduct","setViewingProduct","editingProduct","setEditingProduct","categories","setCategories","successMessage","setSuccessMessage","submitting","setSubmitting","formData","setFormData","name","description","price","stock","category","sku","isActive","isFeatured","images","fetchProducts","fetchCategories","token","localStorage","getItem","params","URLSearchParams","_objectSpread","page","limit","search","status","response","fetch","concat","ADMIN_PRODUCTS","headers","Authorization","ok","Error","data","json","pagination","err","message","CATEGORIES","console","handleSubmit","e","preventDefault","url","PRODUCT_BY_ID","_id","PRODUCTS","method","formDataToSend","FormData","append","toString","log","length","newImages","filter","img","isNew","file","forEach","image","size","type","body","errorData","setTimeout","handleView","product","handleEdit","existingImages","map","handleDelete","productId","window","confirm","handleInputChange","value","checked","target","prev","resetForm","className","children","viewBox","fill","fillRule","d","clipRule","onClick","placeholder","onChange","_product$category","src","alt","title","Math","max","disabled","min","onSubmit","rows","onImagesChange","maxImages","multiple","slice","index","Date","createdAt","toLocaleDateString","updatedAt"],"sources":["E:/blowpack/frountend/src/pages/admin/Products.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport AdminNavbar from \"../../components/layout/AdminNavbar\";\nimport ImageUpload from \"../../components/common/ImageUpload\";\nimport { API_ENDPOINTS } from \"../../config/api\";\nimport {\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  EyeIcon,\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  XMarkIcon,\n  PhotoIcon,\n} from \"@heroicons/react/24/outline\";\n\nconst AdminProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [categoryFilter, setCategoryFilter] = useState(\"all\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [viewingProduct, setViewingProduct] = useState(null);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    stock: \"\",\n    category: \"\",\n    sku: \"\",\n    isActive: true,\n    isFeatured: false,\n    images: [],\n  });\n\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n  }, [currentPage, searchTerm, statusFilter, categoryFilter]);\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem(\"token\");\n      const params = new URLSearchParams({\n        page: currentPage,\n        limit: 10,\n        ...(searchTerm && { search: searchTerm }),\n        ...(statusFilter !== \"all\" && { status: statusFilter }),\n        ...(categoryFilter !== \"all\" && { category: categoryFilter }),\n      });\n\n      const response = await fetch(\n        `${API_ENDPOINTS.ADMIN_PRODUCTS}?${params}`,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch products\");\n      }\n\n      const data = await response.json();\n      setProducts(data.data.products);\n      setTotalPages(data.data.pagination.totalPages);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(API_ENDPOINTS.CATEGORIES, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setCategories(data.data.categories || []);\n      }\n    } catch (err) {\n      console.error(\"Failed to fetch categories:\", err);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setSubmitting(true);\n      setError(null);\n      \n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        setError(\"Please login first\");\n        return;\n      }\n\n      const url = editingProduct\n        ? API_ENDPOINTS.PRODUCT_BY_ID(editingProduct._id)\n        : API_ENDPOINTS.PRODUCTS;\n\n      const method = editingProduct ? \"PUT\" : \"POST\";\n\n      // Create FormData\n      const formDataToSend = new FormData();\n      formDataToSend.append(\"name\", formData.name || \"\");\n      formDataToSend.append(\"description\", formData.description || \"\");\n      formDataToSend.append(\"price\", formData.price || \"0\");\n      formDataToSend.append(\"stock\", formData.stock || \"0\");\n      formDataToSend.append(\"category\", formData.category || \"\");\n      formDataToSend.append(\"sku\", formData.sku || \"\");\n      formDataToSend.append(\"isActive\", formData.isActive.toString());\n      formDataToSend.append(\"isFeatured\", formData.isFeatured.toString());\n\n      // Add images if any\n      console.log('ðŸ–¼ï¸ Form images:', formData.images);\n      if (formData.images && formData.images.length > 0) {\n        const newImages = formData.images.filter(img => img.isNew && img.file);\n        console.log('ðŸ“¤ New images to upload:', newImages.length);\n        newImages.forEach(image => {\n          console.log('ðŸ“Ž Appending image:', image.file.name, image.file.size, image.file.type);\n          formDataToSend.append(\"images\", image.file);\n        });\n      } else {\n        console.log('âŒ No images to upload');\n      }\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formDataToSend,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        setError(errorData.message || \"Failed to save product\");\n        return;\n      }\n\n      // Success\n      setShowModal(false);\n      setEditingProduct(null);\n      setFormData({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        stock: \"\",\n        category: \"\",\n        sku: \"\",\n        isActive: true,\n        isFeatured: false,\n        images: [],\n      });\n      setSuccessMessage(editingProduct ? \"Product updated successfully!\" : \"Product created successfully!\");\n      setTimeout(() => setSuccessMessage(null), 3000);\n      fetchProducts();\n      \n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleView = (product) => {\n    setViewingProduct(product);\n    setShowViewModal(true);\n  };\n\n  const handleEdit = (product) => {\n    setEditingProduct(product);\n\n    // Convert existing images to the new format\n    const existingImages = (product.images || []).map((img) => ({\n      ...img,\n      isNew: false, // Existing images are not new\n    }));\n\n    setFormData({\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      stock: product.stock,\n      category: product.category._id,\n      sku: product.sku,\n      isActive: product.isActive,\n      isFeatured: product.isFeatured,\n      images: existingImages,\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async (productId) => {\n    if (!window.confirm(\"Are you sure you want to delete this product?\")) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(API_ENDPOINTS.PRODUCT_BY_ID(productId), {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\",\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to delete product\");\n      }\n\n      fetchProducts();\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    \n    setFormData((prev) => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n    \n    // Clear error when user starts typing\n    if (error) {\n      setError(null);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      name: \"\",\n      description: \"\",\n      price: \"\",\n      stock: \"\",\n      category: \"\",\n      sku: \"\",\n      isActive: true,\n      isFeatured: false,\n      images: [],\n    });\n    setEditingProduct(null);\n    setShowModal(false);\n    setError(null); // Clear any errors when resetting form\n    setSuccessMessage(null); // Clear any success messages when resetting form\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Helmet>\n        <title>Admin Products - Packwell Plastic Industries</title>\n      </Helmet>\n\n      <AdminNavbar />\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Success Message */}\n        {successMessage && (\n          <div className=\"mb-4 p-4 bg-green-50 border border-green-200 rounded-md\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-green-800\">\n                  Success\n                </h3>\n                <div className=\"mt-2 text-sm text-green-700\">\n                  {successMessage}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Products</h1>\n              <p className=\"mt-2 text-gray-600\">Manage your product catalog</p>\n            </div>\n            <button\n              onClick={() => setShowModal(true)}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <PlusIcon className=\"h-4 w-4 mr-2\" />\n              Add Product\n            </button>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white shadow rounded-lg p-6 mb-6\">\n          <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Search\n              </label>\n              <div className=\"relative\">\n                <MagnifyingGlassIcon className=\"h-5 w-5 absolute left-3 top-3 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search products...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 w-full\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Status\n              </label>\n              <select\n                value={statusFilter}\n                onChange={(e) => setStatusFilter(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"all\">All Status</option>\n                <option value=\"active\">Active</option>\n                <option value=\"inactive\">Inactive</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Category\n              </label>\n              <select\n                value={categoryFilter}\n                onChange={(e) => setCategoryFilter(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"all\">All Categories</option>\n                {categories.map((category) => (\n                  <option key={category._id} value={category._id}>\n                    {category.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"flex items-end\">\n              <button\n                onClick={() => {\n                  setSearchTerm(\"\");\n                  setStatusFilter(\"all\");\n                  setCategoryFilter(\"all\");\n                }}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Clear Filters\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Products Table */}\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Product\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Category\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Price\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Stock\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {products.map((product) => (\n                  <tr key={product._id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-10 w-10\">\n                          {product.images && product.images.length > 0 ? (\n                            <img\n                              className=\"h-10 w-10 rounded-lg object-cover\"\n                              src={product.images[0].url || product.images[0]}\n                              alt={product.images[0].alt || product.name}\n                            />\n                          ) : (\n                            <div className=\"h-10 w-10 rounded-lg bg-gray-200 flex items-center justify-center\">\n                              <span className=\"text-gray-400 text-xs\">\n                                No Image\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"ml-4\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {product.name}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">\n                            {product.sku}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {product.category?.name || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      â‚¹{product.price}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {product.stock}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span\n                        className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                          product.isActive\n                            ? \"bg-green-100 text-green-800\"\n                            : \"bg-red-100 text-red-800\"\n                        }`}\n                      >\n                        {product.isActive ? \"Active\" : \"Inactive\"}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => handleView(product)}\n                          className=\"text-green-600 hover:text-green-900\"\n                          title=\"View Product\"\n                        >\n                          <EyeIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleEdit(product)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"Edit Product\"\n                        >\n                          <PencilIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDelete(product._id)}\n                          className=\"text-red-600 hover:text-red-900\"\n                          title=\"Delete Product\"\n                        >\n                          <TrashIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n            <div className=\"flex-1 flex justify-between sm:hidden\">\n              <button\n                onClick={() => setCurrentPage((prev) => Math.max(prev - 1, 1))}\n                disabled={currentPage === 1}\n                className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\"\n              >\n                Previous\n              </button>\n\n              <button\n                onClick={() =>\n                  setCurrentPage((prev) => Math.min(prev + 1, totalPages))\n                }\n                disabled={currentPage === totalPages}\n                className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50\"\n              >\n                Next\n              </button>\n            </div>\n\n            <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-700\">\n                  Page <span className=\"font-medium\">{currentPage}</span> of{\" \"}\n                  <span className=\"font-medium\">{totalPages}</span>\n                </p>\n              </div>\n\n              <div>\n                <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                  <button\n                    onClick={() =>\n                      setCurrentPage((prev) => Math.max(prev - 1, 1))\n                    }\n                    disabled={currentPage === 1}\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\n                  >\n                    Previous\n                  </button>\n\n                  <button\n                    onClick={() =>\n                      setCurrentPage((prev) => Math.min(prev + 1, totalPages))\n                    }\n                    disabled={currentPage === totalPages}\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\n                  >\n                    Next\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Product Modal */}\n\n        {showModal && (\n          <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n            <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\n              <div className=\"flex justify-between items-center mb-4\">\n                <h3 className=\"text-lg font-medium text-gray-900\">\n                  {editingProduct ? \"Edit Product\" : \"Add New Product\"}\n                </h3>\n\n                <button\n                  onClick={resetForm}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <XMarkIcon className=\"h-6 w-6\" />\n                </button>\n              </div>\n\n              {error && (\n                <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\">\n                  <div className=\"flex\">\n                    <div className=\"flex-shrink-0\">\n                      <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                    <div className=\"ml-3\">\n                      <h3 className=\"text-sm font-medium text-red-800\">\n                        Error\n                      </h3>\n                      <div className=\"mt-2 text-sm text-red-700\">\n                        {error}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Product Name\n                    </label>\n\n                    <input\n                      type=\"text\"\n                      name=\"name\"\n                      value={formData.name}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter product name\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      SKU\n                    </label>\n\n                    <input\n                      type=\"text\"\n                      name=\"sku\"\n                      value={formData.sku}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter product SKU\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Price (â‚¹)\n                    </label>\n\n                    <input\n                      type=\"number\"\n                      name=\"price\"\n                      value={formData.price}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter price (â‚¹)\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Stock\n                    </label>\n\n                    <input\n                      type=\"number\"\n                      name=\"stock\"\n                      value={formData.stock}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                      placeholder=\"Enter stock quantity\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">\n                      Category\n                    </label>\n\n                    <select\n                      name=\"category\"\n                      value={formData.category}\n                      onChange={handleInputChange}\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    >\n                      <option value=\"\">Select Category</option>\n\n                      {categories.map((category) => (\n                        <option key={category._id} value={category._id}>\n                          {category.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">\n                    Description\n                  </label>\n\n                  <textarea\n                    name=\"description\"\n                    value={formData.description}\n                    onChange={handleInputChange}\n                    rows={3}\n                    className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"Enter product description\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Product Images\n                  </label>\n\n                  <ImageUpload\n                    images={formData.images}\n                    onImagesChange={(images) =>\n                      setFormData({ ...formData, images })\n                    }\n                    maxImages={5}\n                    multiple={true}\n                  />\n                </div>\n\n                <div className=\"flex items-center space-x-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"isActive\"\n                      checked={formData.isActive}\n                      onChange={handleInputChange}\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n\n                    <span className=\"ml-2 text-sm text-gray-700\">Active</span>\n                  </label>\n\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      name=\"isFeatured\"\n                      checked={formData.isFeatured}\n                      onChange={handleInputChange}\n                      className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                    />\n\n                    <span className=\"ml-2 text-sm text-gray-700\">Featured</span>\n                  </label>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={resetForm}\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                  >\n                    Cancel\n                  </button>\n\n                  <button\n                    type=\"submit\"\n                    disabled={submitting}\n                    className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {submitting ? \"Saving...\" : (editingProduct ? \"Update Product\" : \"Add Product\")}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* View Product Modal - Modern & Aesthetic */}\n\n        {showViewModal && viewingProduct && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-60 overflow-y-auto h-full w-full z-50 animate-fadeIn\">\n            <div className=\"relative top-4 mx-auto p-4 w-11/12 max-w-6xl shadow-2xl rounded-2xl bg-white animate-slideIn\">\n              {/* Header with Gradient Background */}\n\n              <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-t-2xl p-6 text-white\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h3 className=\"text-3xl font-bold mb-2\">\n                      {viewingProduct.name}\n                    </h3>\n\n                    <p className=\"text-blue-100 text-lg\">\n                      {viewingProduct.category?.name || \"Uncategorized\"}\n                    </p>\n                  </div>\n\n                  <button\n                    onClick={() => setShowViewModal(false)}\n                    className=\"text-white hover:text-gray-200 transition-colors p-2 hover:bg-white hover:bg-opacity-20 rounded-full\"\n                  >\n                    <XMarkIcon className=\"h-6 w-6\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"p-8\">\n                <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\n                  {/* Product Images - Enhanced Gallery */}\n\n                  <div className=\"space-y-6\">\n                    <div className=\"flex items-center space-x-2 mb-4\">\n                      <div className=\"w-1 h-8 bg-gradient-to-b from-blue-600 to-purple-600 rounded-full\"></div>\n\n                      <h4 className=\"text-2xl font-bold text-gray-900\">\n                        Product Gallery\n                      </h4>\n                    </div>\n\n                    {viewingProduct.images &&\n                    viewingProduct.images.length > 0 ? (\n                      <div className=\"space-y-4\">\n                        {/* Main Image */}\n\n                        <div className=\"relative group\">\n                          <img\n                            src={\n                              viewingProduct.images[0].url ||\n                              viewingProduct.images[0]\n                            }\n                            alt={\n                              viewingProduct.images[0].alt ||\n                              viewingProduct.name\n                            }\n                            className=\"w-full h-80 object-cover rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300\"\n                          />\n\n                          <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-300 rounded-xl\"></div>\n                        </div>\n\n                        {/* Thumbnail Grid */}\n\n                        {viewingProduct.images.length > 1 && (\n                          <div className=\"grid grid-cols-4 gap-3\">\n                            {viewingProduct.images\n                              .slice(1)\n                              .map((image, index) => (\n                                <div\n                                  key={index}\n                                  className=\"relative group cursor-pointer\"\n                                >\n                                  <img\n                                    src={image.url || image}\n                                    alt={image.alt || viewingProduct.name}\n                                    className=\"w-full h-20 object-cover rounded-lg shadow-md group-hover:shadow-lg transition-all duration-300\"\n                                  />\n\n                                  <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 rounded-lg\"></div>\n                                </div>\n                              ))}\n                          </div>\n                        )}\n                      </div>\n                    ) : (\n                      <div className=\"w-full h-80 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center\">\n                        <div className=\"text-center\">\n                          <div className=\"w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center mx-auto mb-4\">\n                            <PhotoIcon className=\"h-8 w-8 text-gray-500\" />\n                          </div>\n\n                          <p className=\"text-gray-500 text-lg\">\n                            No images available\n                          </p>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Product Information - Enhanced Cards */}\n\n                  <div className=\"space-y-6\">\n                    {/* Basic Information Card */}\n\n                    <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100\">\n                      <div className=\"flex items-center space-x-2 mb-4\">\n                        <div className=\"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center\">\n                          <span className=\"text-white font-bold text-sm\">\n                            i\n                          </span>\n                        </div>\n\n                        <h4 className=\"text-xl font-bold text-gray-900\">\n                          Basic Information\n                        </h4>\n                      </div>\n\n                      <div className=\"space-y-4\">\n                        <div className=\"bg-white rounded-lg p-4 shadow-sm\">\n                          <label className=\"block text-sm font-semibold text-gray-600 mb-1\">\n                            Product Name\n                          </label>\n\n                          <p className=\"text-lg font-medium text-gray-900\">\n                            {viewingProduct.name}\n                          </p>\n                        </div>\n\n                        <div className=\"bg-white rounded-lg p-4 shadow-sm\">\n                          <label className=\"block text-sm font-semibold text-gray-600 mb-1\">\n                            SKU\n                          </label>\n\n                          <p className=\"text-lg font-mono text-gray-900\">\n                            {viewingProduct.sku}\n                          </p>\n                        </div>\n\n                        <div className=\"bg-white rounded-lg p-4 shadow-sm\">\n                          <label className=\"block text-sm font-semibold text-gray-600 mb-1\">\n                            Description\n                          </label>\n\n                          <p className=\"text-gray-900 leading-relaxed\">\n                            {viewingProduct.description}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Pricing & Inventory Card */}\n\n                    <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100\">\n                      <div className=\"flex items-center space-x-2 mb-4\">\n                        <div className=\"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center\">\n                          <span className=\"text-white font-bold text-sm\">\n                            â‚¹\n                          </span>\n                        </div>\n\n                        <h4 className=\"text-xl font-bold text-gray-900\">\n                          Pricing & Inventory\n                        </h4>\n                      </div>\n\n                      <div className=\"grid grid-cols-2 gap-4\">\n                        <div className=\"bg-white rounded-lg p-4 shadow-sm text-center\">\n                          <label className=\"block text-sm font-semibold text-gray-600 mb-2\">\n                            Price\n                          </label>\n\n                          <p className=\"text-3xl font-bold text-green-600\">\n                            â‚¹{viewingProduct.price}\n                          </p>\n                        </div>\n\n                        <div className=\"bg-white rounded-lg p-4 shadow-sm text-center\">\n                          <label className=\"block text-sm font-semibold text-gray-600 mb-2\">\n                            Stock\n                          </label>\n\n                          <p className=\"text-3xl font-bold text-blue-600\">\n                            {viewingProduct.stock}\n                          </p>\n\n                          <p className=\"text-sm text-gray-500\">units</p>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Status Card */}\n\n                    <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-100\">\n                      <div className=\"flex items-center space-x-2 mb-4\">\n                        <div className=\"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center\">\n                          <span className=\"text-white font-bold text-sm\">\n                            âœ“\n                          </span>\n                        </div>\n\n                        <h4 className=\"text-xl font-bold text-gray-900\">\n                          Status\n                        </h4>\n                      </div>\n\n                      <div className=\"flex space-x-4\">\n                        <div className=\"flex-1 bg-white rounded-lg p-4 shadow-sm text-center\">\n                          <span\n                            className={`inline-flex items-center px-4 py-2 rounded-full text-sm font-bold ${\n                              viewingProduct.isActive\n                                ? \"bg-green-100 text-green-800 border-2 border-green-200\"\n                                : \"bg-red-100 text-red-800 border-2 border-red-200\"\n                            }`}\n                          >\n                            <div\n                              className={`w-2 h-2 rounded-full mr-2 ${\n                                viewingProduct.isActive\n                                  ? \"bg-green-500\"\n                                  : \"bg-red-500\"\n                              }`}\n                            ></div>\n\n                            {viewingProduct.isActive ? \"Active\" : \"Inactive\"}\n                          </span>\n                        </div>\n\n                        <div className=\"flex-1 bg-white rounded-lg p-4 shadow-sm text-center\">\n                          <span\n                            className={`inline-flex items-center px-4 py-2 rounded-full text-sm font-bold ${\n                              viewingProduct.isFeatured\n                                ? \"bg-blue-100 text-blue-800 border-2 border-blue-200\"\n                                : \"bg-gray-100 text-gray-800 border-2 border-gray-200\"\n                            }`}\n                          >\n                            <div\n                              className={`w-2 h-2 rounded-full mr-2 ${\n                                viewingProduct.isFeatured\n                                  ? \"bg-blue-500\"\n                                  : \"bg-gray-500\"\n                              }`}\n                            ></div>\n\n                            {viewingProduct.isFeatured ? \"Featured\" : \"Regular\"}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Additional Information Card */}\n\n                    <div className=\"bg-gradient-to-br from-gray-50 to-slate-50 rounded-xl p-6 border border-gray-100\">\n                      <div className=\"flex items-center space-x-2 mb-4\">\n                        <div className=\"w-8 h-8 bg-gray-500 rounded-lg flex items-center justify-center\">\n                          <span className=\"text-white font-bold text-sm\">\n                            â„¹\n                          </span>\n                        </div>\n\n                        <h4 className=\"text-xl font-bold text-gray-900\">\n                          Additional Information\n                        </h4>\n                      </div>\n\n                      <div className=\"space-y-3\">\n                        <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                          <span className=\"font-semibold text-gray-600\">\n                            Created\n                          </span>\n\n                          <span className=\"text-gray-900\">\n                            {new Date(\n                              viewingProduct.createdAt\n                            ).toLocaleDateString()}\n                          </span>\n                        </div>\n\n                        <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                          <span className=\"font-semibold text-gray-600\">\n                            Last Updated\n                          </span>\n\n                          <span className=\"text-gray-900\">\n                            {new Date(\n                              viewingProduct.updatedAt\n                            ).toLocaleDateString()}\n                          </span>\n                        </div>\n\n                        <div className=\"flex justify-between items-center py-2\">\n                          <span className=\"font-semibold text-gray-600\">\n                            Product ID\n                          </span>\n\n                          <span className=\"text-gray-500 font-mono text-sm\">\n                            {viewingProduct._id}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Enhanced Footer */}\n\n                <div className=\"mt-8 flex justify-end space-x-4\">\n                  <button\n                    onClick={() => setShowViewModal(false)}\n                    className=\"px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminProducts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}